<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> 目前所在地 </title>
    <!-- 請輸入自己申請好的金鑰，並且勿外流！ -->
    <script src="&callback=displayMap"></script>
    <script>
        function getposition() {
            var g = window.navigator.geolocation;
            g.getCurrentPosition(succ);
        }
        function succ(arg) {
            var l = arg.coords.latitude;
            var y = arg.coords.longitude;
            document.getElementById("position").innerHTML = "經度:" + l + "緯度:" + y;
            var xy = new google.maps.LatLng(l,y);
            var maparea = document.getElementById("gmap");
            var option = {
                zoom:15,
                center:xy,
                mapTypeId: google.maps.MapTypeId.ROADMAP };
            var mapdisplay = new google.maps.Map(maparea, option);
            var marker = new google.maps.Marker({ position: xy, map: mapdisplay });
        }
    </script>
</head>
<body>
<button onclick="getposition()"> 取得地理位置 </button>
<label id="position"></label>
<div id="gmap" style="width: 800px;height: 450px;"></div>
</body>
</html>